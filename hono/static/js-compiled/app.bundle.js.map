{"version":3,"file":"app.bundle.js","mappings":";;;;;;;;;;;AAgBA;;;;;;;;;;;;;;;GAeG;AACH,SAAS,sBAAsB,CAA+B,EAC5D,cAAc,GAAG,KAAK,EACtB,MAAM,GAAG,KAAK,EACd,OAAO,GAAG,IAAI,GACf,GAAG,EAAE;IAEJ,eAAe,EAAE,CAAC;IAElB,IAAI,OAAO,GAAG,KAAK,CAAC;IAEpB,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;QAC7B,IAAK,MAAiB,CAAC,QAAQ,EAAE;YAE/B,cAAc,EAAE,CAAC;SAElB;aAAM;YAEL,MAAM,CAAC,gBAAgB,CACrB,sBAAsB,EACtB,cAAc,EACd,EAAE,IAAI,EAAE,IAAI,EAAE,CACf,CAAC;YAEF,UAAU,CAAC,GAAG,EAAE;gBACd,cAAc,EAAE,CAAC;YACnB,CAAC,EAAE,OAAO,CAAC,CAAC;SACb;QAED,SAAS,cAAc;YAErB,IAAI,OAAO,EAAE;gBACX,OAAO;aACR;YACD,OAAO,GAAG,IAAI,CAAC;YAEf,MAAM,CAAC,mBAAmB,CAAC,sBAAsB,EAAE,cAAc,CAAC,CAAC;YAEnE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAgB,CAAC;YAEtC,IAAI,QAAQ,IAAI,CAAC,CAAC,cAAc,IAAI,QAAQ,CAAC,UAAU,CAAC,EAAE;gBACxD,OAAO,CAAC,QAAwB,CAAC,CAAC;aACnC;iBAAM;gBAEL,MAAM,OAAO,GAAG,cAAc,IAAI,QAAQ;oBACxC,CAAC,CAAC,wCAAwC;oBAC1C,CAAC,CAAC,mCAAmC,CAAC;gBAExC,CAAC,MAAM,IAAI,OAAO,CAAC,KAAK,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC;gBAChE,OAAO,CAAC,IAAI,CAAC,CAAC;aACf;QACH,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,SAAS,eAAe;QACtB,IAAI,OAAO,cAAc,KAAK,SAAS,EAAE;YACvC,MAAM,IAAI,KAAK,CAAC,8EAA8E,CAAC,CAAC;SACjG;QACD,IAAI,OAAO,MAAM,KAAK,SAAS,EAAE;YAC/B,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;SACzF;QACD,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC/B,MAAM,IAAI,KAAK,CAAC,sEAAsE,CAAC,CAAC;SACzF;IACH,CAAC;AACH,CAAC;AAlFD,iBAAS,sBAAsB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACdhC,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,6IAA6I,cAAc;AAC3J,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AAC+D;AAC/D;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,kFAAkF,wDAAwD;AAC1I;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA,6BAA6B;AAC7B,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,gEAAsB;AAC/D;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,kBAAkB;AACzD,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,kFAAkF,wDAAwD;AAC1I;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;;;;ACzdA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,6IAA6I,cAAc;AAC3J,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,SAAS;AACT;AACA;AACA;AACA;AACA,+CAA+C,yBAAyB;AACxE;AACA;AACA;AACA;AACA,wCAAwC;AACxC,+CAA+C,yBAAyB;AACxE;AACA;AACA;AACA,uCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,qIAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,2MAAiB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,yLAAsB;AACvE;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACiB;AAClB;AACO;;;;;;;;;;;;;;;;;AClMA;AACP;AACA;AACA;AACO;AACP;AACA;AACA,oCAAoC,yBAAyB;AAC7D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;AC1BA;AACO;AACP,+BAA+B;AAC/B;AACA;AACA;AACO;AACP,+BAA+B;AAC/B;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP,kCAAkC;AAClC,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACO;AACP,2BAA2B,GAAG;AAC9B;AACO;AACP;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA,gTAAgT,oFAAoF;AACpY;AACA,oDAAoD,WAAW;AAC/D;AACA,oDAAoD,WAAW;AAC/D;AACA,oDAAoD,WAAW;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAe,KAAK,EAAC;;;;;;;UC5FrB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCzCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;WCAA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA,iCAAiC;;WAEjC;WACA;WACA;WACA,KAAK;WACL,eAAe;WACf;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,MAAM,qBAAqB;WAC3B;WACA;WACA;WACA;WACA;WACA;;WAEA;;WAEA;WACA;WACA;;;;;;;;;;;;;;;ACrFA,iBAAiB,SAAI,IAAI,SAAI;AAC7B,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,mBAAmB,SAAI,IAAI,SAAI;AAC/B,cAAc,6BAA6B,0BAA0B,cAAc,qBAAqB;AACxG,6IAA6I,cAAc;AAC3J,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC,mCAAmC,SAAS;AAC5C,mCAAmC,WAAW,UAAU;AACxD,0CAA0C,cAAc;AACxD;AACA,8GAA8G,OAAO;AACrH,iFAAiF,iBAAiB;AAClG,yDAAyD,gBAAgB,QAAQ;AACjF,+CAA+C,gBAAgB,gBAAgB;AAC/E;AACA,kCAAkC;AAClC;AACA;AACA,UAAU,YAAY,aAAa,SAAS,UAAU;AACtD,oCAAoC,SAAS;AAC7C;AACA;AACA;AACsH;AACpF;AACQ;AACN;AACpC;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,8DAAmB;AACxD;AACA;AACA;AACA;AACA,qCAAqC,yDAAc;AACnD;AACA;AACA;AACA;AACA,qCAAqC,2CAAM;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iDAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2CAAM;AAC9B,qBAAqB;AACrB;AACA;AACA;AACA,wBAAwB,2CAAM;AAC9B,qBAAqB;AACrB;AACA;AACA;AACA,0EAA0E;AAC1E;AACA;AACA;AACA,6DAA6D,4DAAiB;AAC9E;AACA;AACA;AACA,yDAAyD,2DAAgB;AACzE;AACA;AACA;AACA,6DAA6D,wDAAa;AAC1E;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB,IAAI;AACzB;AACA,gBAAgB,uDAAc;AAC9B;AACA;AACA;AACA,KAAK;AACL,CAAC,IAAI;AACL;AACA;AACA;AACA,IAAI,iDAAS;AACb,CAAC;AACD;AACA;AACA;AACA;AACA,YAAY,2CAAM;AAClB","sources":["webpack://hono/./node_modules/@metamask/detect-provider/src/index.ts","webpack://hono/./static/ts-front-end/metamask.ts","webpack://hono/./static/ts-front-end/router.ts","webpack://hono/./static/ts-front-end/trades.ts","webpack://hono/./static/ts-front-end/utils.ts","webpack://hono/webpack/bootstrap","webpack://hono/webpack/runtime/compat get default export","webpack://hono/webpack/runtime/define property getters","webpack://hono/webpack/runtime/ensure chunk","webpack://hono/webpack/runtime/get javascript chunk filename","webpack://hono/webpack/runtime/hasOwnProperty shorthand","webpack://hono/webpack/runtime/load script","webpack://hono/webpack/runtime/make namespace object","webpack://hono/webpack/runtime/publicPath","webpack://hono/webpack/runtime/jsonp chunk loading","webpack://hono/./static/ts-front-end/app.ts"],"sourcesContent":["interface MetaMaskEthereumProvider {\n  isMetaMask?: boolean;\n  once(eventName: string | symbol, listener: (...args: any[]) => void): this;\n  on(eventName: string | symbol, listener: (...args: any[]) => void): this;\n  off(eventName: string | symbol, listener: (...args: any[]) => void): this;\n  addListener(eventName: string | symbol, listener: (...args: any[]) => void): this;\n  removeListener(eventName: string | symbol, listener: (...args: any[]) => void): this;\n  removeAllListeners(event?: string | symbol): this;\n}\n\ninterface Window {\n  ethereum?: MetaMaskEthereumProvider;\n}\n\nexport = detectEthereumProvider;\n\n/**\n * Returns a Promise that resolves to the value of window.ethereum if it is\n * set within the given timeout, or null.\n * The Promise will not reject, but an error will be thrown if invalid options\n * are provided.\n *\n * @param options - Options bag.\n * @param options.mustBeMetaMask - Whether to only look for MetaMask providers.\n * Default: false\n * @param options.silent - Whether to silence console errors. Does not affect\n * thrown errors. Default: false\n * @param options.timeout - Milliseconds to wait for 'ethereum#initialized' to\n * be dispatched. Default: 3000\n * @returns A Promise that resolves with the Provider if it is detected within\n * given timeout, otherwise null.\n */\nfunction detectEthereumProvider<T = MetaMaskEthereumProvider>({\n  mustBeMetaMask = false,\n  silent = false,\n  timeout = 3000,\n} = {}): Promise<T | null> {\n\n  _validateInputs();\n\n  let handled = false;\n\n  return new Promise((resolve) => {\n    if ((window as Window).ethereum) {\n\n      handleEthereum();\n\n    } else {\n\n      window.addEventListener(\n        'ethereum#initialized',\n        handleEthereum,\n        { once: true },\n      );\n\n      setTimeout(() => {\n        handleEthereum();\n      }, timeout);\n    }\n\n    function handleEthereum() {\n\n      if (handled) {\n        return;\n      }\n      handled = true;\n\n      window.removeEventListener('ethereum#initialized', handleEthereum);\n\n      const { ethereum } = window as Window;\n\n      if (ethereum && (!mustBeMetaMask || ethereum.isMetaMask)) {\n        resolve(ethereum as unknown as T);\n      } else {\n\n        const message = mustBeMetaMask && ethereum\n          ? 'Non-MetaMask window.ethereum detected.'\n          : 'Unable to detect window.ethereum.';\n\n        !silent && console.error('@metamask/detect-provider:', message);\n        resolve(null);\n      }\n    }\n  });\n\n  function _validateInputs() {\n    if (typeof mustBeMetaMask !== 'boolean') {\n      throw new Error(`@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.`);\n    }\n    if (typeof silent !== 'boolean') {\n      throw new Error(`@metamask/detect-provider: Expected option 'silent' to be a boolean.`);\n    }\n    if (typeof timeout !== 'number') {\n      throw new Error(`@metamask/detect-provider: Expected option 'timeout' to be a number.`);\n    }\n  }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport detectEthereumProvider from \"@metamask/detect-provider\";\n// MetaMask provider detection and handling\nexport var provider = null;\n// Track connection timestamp for expiry (this is just for our 7-day rule)\nvar CONNECTION_TIME_KEY = \"metamask_connection_time\";\n// Arbitrum One network configuration\nvar ARBITRUM_NETWORK = {\n    chainId: \"0xa4b1\", // 42161 in hex\n    chainName: \"Arbitrum One\",\n    nativeCurrency: {\n        name: \"Ethereum\",\n        symbol: \"ETH\",\n        decimals: 18,\n    },\n    rpcUrls: [\"https://arb1.arbitrum.io/rpc\"],\n    blockExplorerUrls: [\"https://arbiscan.io/\"],\n};\nfunction updateNetworkStatus(chainId) {\n    var networkStatus = document.getElementById(\"networkStatus\");\n    if (!networkStatus)\n        return;\n    if (chainId === ARBITRUM_NETWORK.chainId) {\n        networkStatus.textContent = \"✅ Arbitrum One\";\n        networkStatus.style.color = \"green\";\n    }\n    else {\n        networkStatus.textContent = \"⚠️ Wrong Network\";\n        networkStatus.style.color = \"orange\";\n    }\n}\nexport function updateWalletUI() {\n    return __awaiter(this, void 0, void 0, function () {\n        var connectButton, connected, svg, buttonText, walletAddress, networkStatus, address;\n        return __generator(this, function (_a) {\n            connectButton = document.getElementById(\"connectButton\");\n            if (!connectButton)\n                return [2 /*return*/];\n            connected = (provider === null || provider === void 0 ? void 0 : provider.isConnected()) && provider.selectedAddress;\n            svg = document.getElementById(\"connectWalletIcon\");\n            console.log(\"Updating wallet UI, connected: \".concat(connected, \" svg: \").concat(svg));\n            buttonText = connectButton.querySelector(\"p\");\n            if (buttonText) {\n                buttonText.innerHTML = \"\".concat(connected ? \"Disconnect Wallet\" : \"Connect Wallet\");\n            }\n            if (svg) {\n                if (connected) {\n                    svg.classList.add(\"hidden\");\n                }\n                else {\n                    svg.classList.remove(\"hidden\");\n                }\n            }\n            walletAddress = document.getElementById(\"walletAddress\");\n            networkStatus = document.getElementById(\"networkStatus\");\n            if (!walletAddress || !networkStatus)\n                return [2 /*return*/];\n            if (connected) {\n                address = provider.selectedAddress;\n                walletAddress.textContent = \"\".concat(address.slice(0, 6), \"...\").concat(address.slice(-4));\n                walletAddress.style.display = \"inline-block\";\n                try {\n                    if (provider && provider.isMetaMask) {\n                        updateNetworkStatus(provider.chainId || \"\");\n                    }\n                }\n                catch (error) {\n                    console.error(\"Error getting chain ID:\", error);\n                    networkStatus.textContent = \"❌ Network Error\";\n                    networkStatus.style.color = \"red\";\n                }\n            }\n            else {\n                walletAddress.textContent = \"\";\n                walletAddress.style.display = \"none\";\n                networkStatus.textContent = \"\";\n            }\n            return [2 /*return*/];\n        });\n    });\n}\nexport function connectWallet() {\n    return __awaiter(this, void 0, void 0, function () {\n        var result, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log(\"Connect wallet called\");\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 5, , 7]);\n                    // Always ensure we have a fresh provider reference\n                    return [4 /*yield*/, waitForMetaMaskProvider()];\n                case 2:\n                    // Always ensure we have a fresh provider reference\n                    _a.sent();\n                    if (!provider) {\n                        console.error(\"MetaMask not available after waiting\");\n                        alert(\"MetaMask not detected. Please install MetaMask to continue.\");\n                        return [2 /*return*/];\n                    }\n                    console.log(\"Provider found, requesting connection...\");\n                    return [4 /*yield*/, provider.request({\n                            method: \"wallet_requestPermissions\",\n                            params: [{ eth_accounts: {} }],\n                        })];\n                case 3:\n                    result = _a.sent();\n                    console.log(\"Permission result:\", result);\n                    // Store connection timestamp for our 7-day expiry rule\n                    localStorage.setItem(CONNECTION_TIME_KEY, Date.now().toString());\n                    // Update UI immediately after successful connection\n                    return [4 /*yield*/, updateWalletUI()];\n                case 4:\n                    // Update UI immediately after successful connection\n                    _a.sent();\n                    console.log(\"Wallet connection successful, connected account:\", provider.selectedAddress);\n                    return [3 /*break*/, 7];\n                case 5:\n                    error_1 = _a.sent();\n                    console.error(\"Full error object:\", error_1);\n                    if (error_1.code === 4001) {\n                        console.log(\"User rejected wallet connection\");\n                    }\n                    else if (error_1.code === -32002) {\n                        console.log(\"Connection request already pending\");\n                        alert(\"Connection request already pending. Please check MetaMask.\");\n                    }\n                    else {\n                        console.error(\"Error connecting wallet:\", error_1);\n                        alert(\"Failed to connect wallet: \".concat(error_1.message || \"Unknown error\"));\n                    }\n                    // Ensure UI is updated even on error\n                    return [4 /*yield*/, updateWalletUI()];\n                case 6:\n                    // Ensure UI is updated even on error\n                    _a.sent();\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n            }\n        });\n    });\n}\nexport function checkExistingConnection() {\n    return __awaiter(this, void 0, void 0, function () {\n        var permissions, accountsPermission, accounts, error_2;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 7, , 8]);\n                    if (!!provider) return [3 /*break*/, 2];\n                    return [4 /*yield*/, waitForMetaMaskProvider()];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2:\n                    if (!provider) {\n                        console.log(\"MetaMask not available for connection check\");\n                        return [2 /*return*/, false];\n                    }\n                    return [4 /*yield*/, provider.request({\n                            method: \"wallet_getPermissions\",\n                        })];\n                case 3:\n                    permissions = (_a.sent());\n                    accountsPermission = permissions.find(function (permission) { return permission.parentCapability === \"eth_accounts\"; });\n                    if (!accountsPermission) return [3 /*break*/, 6];\n                    return [4 /*yield*/, provider.request({\n                            method: \"eth_accounts\",\n                        })];\n                case 4:\n                    accounts = (_a.sent());\n                    if (!(accounts.length > 0)) return [3 /*break*/, 6];\n                    console.log(\"Existing connection found:\", accounts[0]);\n                    return [4 /*yield*/, updateWalletUI()];\n                case 5:\n                    _a.sent();\n                    return [2 /*return*/, true];\n                case 6: return [2 /*return*/, false];\n                case 7:\n                    error_2 = _a.sent();\n                    console.error(\"Error checking existing connection:\", error_2);\n                    return [2 /*return*/, false];\n                case 8: return [2 /*return*/];\n            }\n        });\n    });\n}\nexport function disconnectWallet() {\n    return __awaiter(this, void 0, void 0, function () {\n        var fetchError_1, revokeError_1, error_3;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log(\"Disconnecting wallet...\");\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 11, , 13]);\n                    if (!(provider === null || provider === void 0 ? void 0 : provider.isConnected())) return [3 /*break*/, 5];\n                    _a.label = 2;\n                case 2:\n                    _a.trys.push([2, 4, , 5]);\n                    return [4 /*yield*/, fetch(\"/api/wallet/disconnect\", {\n                            method: \"POST\",\n                            headers: {\n                                \"Content-Type\": \"application/json\",\n                            },\n                            body: JSON.stringify({\n                                address: provider.selectedAddress,\n                            }),\n                        })];\n                case 3:\n                    _a.sent();\n                    return [3 /*break*/, 5];\n                case 4:\n                    fetchError_1 = _a.sent();\n                    console.warn(\"Failed to notify backend of wallet disconnection:\", fetchError_1);\n                    return [3 /*break*/, 5];\n                case 5:\n                    // Clear connection timestamp\n                    localStorage.removeItem(CONNECTION_TIME_KEY);\n                    if (!provider) return [3 /*break*/, 9];\n                    _a.label = 6;\n                case 6:\n                    _a.trys.push([6, 8, , 9]);\n                    return [4 /*yield*/, provider.request({\n                            method: \"wallet_revokePermissions\",\n                            params: [{ eth_accounts: {} }],\n                        })];\n                case 7:\n                    _a.sent();\n                    console.log(\"Wallet permissions revoked successfully\");\n                    return [3 /*break*/, 9];\n                case 8:\n                    revokeError_1 = _a.sent();\n                    console.warn(\"Could not revoke permissions:\", revokeError_1);\n                    return [3 /*break*/, 9];\n                case 9:\n                    // Clear our local provider state\n                    provider = null;\n                    return [4 /*yield*/, updateWalletUI()];\n                case 10:\n                    _a.sent();\n                    console.log(\"Wallet disconnected successfully\");\n                    return [3 /*break*/, 13];\n                case 11:\n                    error_3 = _a.sent();\n                    console.error(\"Error disconnecting wallet:\", error_3);\n                    // Always clear local state even if there's an error\n                    localStorage.removeItem(CONNECTION_TIME_KEY);\n                    provider = null;\n                    return [4 /*yield*/, updateWalletUI()];\n                case 12:\n                    _a.sent();\n                    return [3 /*break*/, 13];\n                case 13: return [2 /*return*/];\n            }\n        });\n    });\n}\n/** Wait until MetaMask injects the provider per EIP-6963 */\nexport function waitForMetaMaskProvider() {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    console.log(\"Waiting for MetaMask provider...\");\n                    if (!!provider) return [3 /*break*/, 2];\n                    return [4 /*yield*/, detectEthereumProvider({\n                            mustBeMetaMask: true,\n                            silent: false,\n                            timeout: 5000, // 5 second timeout\n                        })];\n                case 1:\n                    provider = (_a.sent());\n                    if (!provider) {\n                        console.error(\"MetaMask not detected after waiting\");\n                        return [2 /*return*/];\n                    }\n                    console.log(\"MetaMask provider detected, setting up listeners...\");\n                    // Remove existing listeners to avoid duplicates\n                    if (provider.removeAllListeners) {\n                        provider.removeAllListeners();\n                    }\n                    // wire up listeners with proper args signature\n                    provider.on(\"accountsChanged\", function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        var accounts = args[0];\n                        console.log(\"accountsChanged event:\", accounts);\n                        handleAccountsChanged(accounts);\n                    });\n                    provider.on(\"chainChanged\", function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        var chainId = args[0];\n                        console.log(\"chainChanged event:\", chainId);\n                        handleChainChanged(chainId);\n                    });\n                    provider.on(\"connect\", function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        console.log(\"MetaMask connected event\", args[0]);\n                        updateWalletUI();\n                    });\n                    provider.on(\"disconnect\", function () {\n                        var args = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            args[_i] = arguments[_i];\n                        }\n                        console.log(\"MetaMask disconnected event\", args[0]);\n                        updateWalletUI();\n                    });\n                    return [3 /*break*/, 3];\n                case 2:\n                    console.log(\"Provider already exists\");\n                    _a.label = 3;\n                case 3: return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction handleAccountsChanged(accounts) {\n    console.log(\"Accounts changed (detected):\", accounts);\n    if (accounts.length === 0) {\n        // User disconnected their wallet from MetaMask interface\n        // Clear connection timestamp since user disconnected\n        localStorage.removeItem(CONNECTION_TIME_KEY);\n        provider = null;\n    }\n    updateWalletUI();\n}\nfunction handleChainChanged(chainId) {\n    console.log(\"Chain changed (detected) to:\", chainId);\n    updateNetworkStatus(chainId);\n}\n// Auto-reconnect function to be called on page load\nexport function autoReconnectWallet() {\n    return __awaiter(this, void 0, void 0, function () {\n        var connectionTime, timeDiff, sevenDaysInMs, error_4, connected;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    connectionTime = localStorage.getItem(CONNECTION_TIME_KEY);\n                    if (!connectionTime) return [3 /*break*/, 8];\n                    timeDiff = Date.now() - parseInt(connectionTime);\n                    sevenDaysInMs = 7 * 24 * 60 * 60 * 1000;\n                    if (!(timeDiff > sevenDaysInMs)) return [3 /*break*/, 8];\n                    // Connection is older than 7 days, clear it and don't auto-reconnect\n                    localStorage.removeItem(CONNECTION_TIME_KEY);\n                    console.log(\"Connection expired (older than 7 days)\");\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 6, , 7]);\n                    if (!!provider) return [3 /*break*/, 3];\n                    return [4 /*yield*/, waitForMetaMaskProvider()];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    if (!provider) return [3 /*break*/, 5];\n                    return [4 /*yield*/, provider.request({\n                            method: \"wallet_revokePermissions\",\n                            params: [{ eth_accounts: {} }],\n                        })];\n                case 4:\n                    _a.sent();\n                    _a.label = 5;\n                case 5: return [3 /*break*/, 7];\n                case 6:\n                    error_4 = _a.sent();\n                    console.warn(\"Could not revoke expired permissions:\", error_4);\n                    return [3 /*break*/, 7];\n                case 7: return [2 /*return*/];\n                case 8: return [4 /*yield*/, checkExistingConnection()];\n                case 9:\n                    connected = _a.sent();\n                    if (!connected) {\n                        console.log(\"No existing wallet connection found\");\n                        // Clear timestamp if no permissions exist\n                        localStorage.removeItem(CONNECTION_TIME_KEY);\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n// Helper function to check if wallet is actually connected (permissions + accounts)\nexport function isWalletConnected() {\n    return __awaiter(this, void 0, void 0, function () {\n        var permissions, accountsPermission, accounts, connected, error_5;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!provider) {\n                        console.log(\"No provider available for connection check\");\n                        return [2 /*return*/, false];\n                    }\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 4, , 5]);\n                    // First check if provider thinks it's connected\n                    if (!provider.isConnected() || !provider.selectedAddress) {\n                        console.log(\"Provider not connected or no selected address\");\n                        return [2 /*return*/, false];\n                    }\n                    return [4 /*yield*/, provider.request({\n                            method: \"wallet_getPermissions\",\n                        })];\n                case 2:\n                    permissions = (_a.sent());\n                    accountsPermission = permissions.find(function (permission) { return permission.parentCapability === \"eth_accounts\"; });\n                    if (!accountsPermission) {\n                        console.log(\"No eth_accounts permission found\");\n                        return [2 /*return*/, false];\n                    }\n                    return [4 /*yield*/, provider.request({\n                            method: \"eth_accounts\",\n                        })];\n                case 3:\n                    accounts = (_a.sent());\n                    connected = accounts.length > 0;\n                    console.log(\"Wallet connection check result:\", connected, \"accounts:\", accounts.length);\n                    return [2 /*return*/, connected];\n                case 4:\n                    error_5 = _a.sent();\n                    console.error(\"Error checking wallet connection:\", error_5);\n                    return [2 /*return*/, false];\n                case 5: return [2 /*return*/];\n            }\n        });\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nexport var routes = [\n    {\n        path: \"/toptraders\",\n        view: \"top-traders\",\n        title: \"Top Traders - DEXMT\",\n    },\n    {\n        path: \"/mywatchlist\",\n        view: \"watch-list\",\n        title: \"My Watch List - DEXMT\",\n    },\n];\nvar Router = /** @class */ (function () {\n    function Router() {\n        var _this = this;\n        this.currentView = \"top-traders\";\n        // Listen for browser back/forward navigation\n        window.addEventListener(\"popstate\", function (event) {\n            var _a;\n            var view = ((_a = event.state) === null || _a === void 0 ? void 0 : _a.view) || _this.getViewFromPath();\n            _this.loadView(view, false); // false = don't push to history\n        });\n    }\n    // Get view from current URL path\n    Router.prototype.getViewFromPath = function () {\n        var path = window.location.pathname;\n        var route = routes.find(function (r) { return r.path === path; });\n        return (route === null || route === void 0 ? void 0 : route.view) || \"top-traders\";\n    };\n    // Navigate to a specific view\n    Router.prototype.navigateTo = function (view, pushToHistory) {\n        if (pushToHistory === void 0) { pushToHistory = true; }\n        var route = routes.find(function (r) { return r.view === view; });\n        if (!route)\n            return;\n        if (pushToHistory) {\n            window.history.pushState({ view: view }, route.title, route.path);\n        }\n        document.title = route.title;\n        this.currentView = view;\n        this.loadView(view, false);\n    };\n    // Load view content and update UI\n    Router.prototype.loadView = function (view_1) {\n        return __awaiter(this, arguments, void 0, function (view, pushToHistory) {\n            var error_1, showToast;\n            if (pushToHistory === void 0) { pushToHistory = true; }\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 5, , 7]);\n                        // Update navigation buttons\n                        this.updateNavigationButtons(view);\n                        if (!(view === \"top-traders\")) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.loadTopTraders()];\n                    case 1:\n                        _a.sent();\n                        return [3 /*break*/, 4];\n                    case 2:\n                        if (!(view === \"watch-list\")) return [3 /*break*/, 4];\n                        return [4 /*yield*/, this.loadWatchList()];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        this.currentView = view;\n                        return [3 /*break*/, 7];\n                    case 5:\n                        error_1 = _a.sent();\n                        console.error(\"Error loading \".concat(view, \" view:\"), error_1);\n                        return [4 /*yield*/, import(\"./utils\")];\n                    case 6:\n                        showToast = (_a.sent()).showToast;\n                        showToast(\"Failed to load \".concat(view.replace(\"-\", \" \")), \"error\");\n                        return [3 /*break*/, 7];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Router.prototype.loadTopTraders = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var response, html, indexContent, updateUsersUI;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, fetch(\"/html/top-traders.html\")];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.text()];\n                    case 2:\n                        html = _a.sent();\n                        indexContent = document.querySelector(\".index-content\");\n                        if (!indexContent) return [3 /*break*/, 4];\n                        indexContent.innerHTML = html;\n                        return [4 /*yield*/, import(\"./users\")];\n                    case 3:\n                        updateUsersUI = (_a.sent()).updateUsersUI;\n                        updateUsersUI();\n                        _a.label = 4;\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Router.prototype.loadWatchList = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var showWatchList;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, import(\"./watch-list\")];\n                    case 1:\n                        showWatchList = (_a.sent()).showWatchList;\n                        showWatchList();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Router.prototype.updateNavigationButtons = function (view) {\n        var topTradersBtn = document.getElementById(\"topTradersBtn\");\n        var myWatchListBtn = document.getElementById(\"myWatchListBtn\");\n        if (topTradersBtn && myWatchListBtn) {\n            // Remove active class from both\n            topTradersBtn.classList.remove(\"active\");\n            myWatchListBtn.classList.remove(\"active\");\n            // Add active class to current view\n            if (view === \"top-traders\") {\n                topTradersBtn.classList.add(\"active\");\n            }\n            else if (view === \"watch-list\") {\n                myWatchListBtn.classList.add(\"active\");\n            }\n        }\n    };\n    // Initialize router and load current view\n    Router.prototype.init = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var initialView;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        initialView = this.getViewFromPath();\n                        return [4 /*yield*/, this.loadView(initialView, false)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // Get current view\n    Router.prototype.getCurrentView = function () {\n        return this.currentView;\n    };\n    return Router;\n}());\nexport { Router };\n// Export singleton instance\nexport var router = new Router();\n","export function updateTradesUI() {\n    console.log(\"Updating trades UI...\");\n    // TODO: Implement trades UI update\n}\nexport function fetchUserTrades(userAddress) {\n    console.log(\"Fetching trades for user: \".concat(userAddress));\n    return fetch(\"/api/trades/\".concat(userAddress))\n        .then(function (response) { return response.json(); })\n        .then(function (trades) {\n        console.log(\"Loaded \".concat(trades.length, \" trades for \").concat(userAddress));\n        return trades;\n    })\n        .catch(function (error) {\n        console.error(\"Error fetching trades:\", error);\n        return [];\n    });\n}\nexport function displayUserTrades(trades) {\n    // TODO: Implement trade display logic\n    console.log(\"Displaying trades:\", trades);\n}\n// Export to global window (for compatibility)\nwindow.TradesManager = {\n    updateTradesUI: updateTradesUI,\n    fetchUserTrades: fetchUserTrades,\n    displayUserTrades: displayUserTrades,\n};\n","// Number formatting utilities\nexport function formatNumber(value, decimals) {\n    if (decimals === void 0) { decimals = 2; }\n    var num = Number(value) || 0;\n    return num.toFixed(decimals);\n}\nexport function formatCurrency(value, currency) {\n    if (currency === void 0) { currency = \"$\"; }\n    var num = Number(value) || 0;\n    return \"\".concat(currency).concat(num.toLocaleString());\n}\nexport function formatPercentage(value) {\n    var num = Number(value) || 0;\n    var sign = num >= 0 ? \"+\" : \"\";\n    return \"\".concat(sign).concat(num.toFixed(2), \"%\");\n}\nexport function truncateAddress(address, startLength, endLength) {\n    if (startLength === void 0) { startLength = 6; }\n    if (endLength === void 0) { endLength = 4; }\n    if (!address || address.length < startLength + endLength) {\n        return address;\n    }\n    return \"\".concat(address.slice(0, startLength), \"...\").concat(address.slice(-endLength));\n}\nexport function isValidAddress(address) {\n    return /^0x[a-fA-F0-9]{40}$/.test(address);\n}\nexport function formatTimestamp(timestamp) {\n    var date = new Date(timestamp);\n    return date.toLocaleString();\n}\nexport function timeAgo(timestamp) {\n    var now = new Date();\n    var past = new Date(timestamp);\n    var diffInSeconds = Math.floor((now.getTime() - past.getTime()) / 1000);\n    if (diffInSeconds < 60)\n        return \"\".concat(diffInSeconds, \"s ago\");\n    if (diffInSeconds < 3600)\n        return \"\".concat(Math.floor(diffInSeconds / 60), \"m ago\");\n    if (diffInSeconds < 86400)\n        return \"\".concat(Math.floor(diffInSeconds / 3600), \"h ago\");\n    return \"\".concat(Math.floor(diffInSeconds / 86400), \"d ago\");\n}\nexport function createElement(tag, className, innerHTML) {\n    var element = document.createElement(tag);\n    if (className)\n        element.className = className;\n    if (innerHTML)\n        element.innerHTML = innerHTML;\n    return element;\n}\nexport function showToast(message, type) {\n    if (type === void 0) { type = \"info\"; }\n    // TODO: Implement toast notification system\n    console.log(\"[\".concat(type.toUpperCase(), \"] \").concat(message));\n}\nfunction getPlatformIcon(platform) {\n    if (!platform) {\n        return '<span style=\"color:#666;\">-</span>';\n    }\n    var platformLower = platform.toLowerCase();\n    switch (platformLower) {\n        case \"gmx\":\n            return \"\\n        <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 30 30\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n          <defs>\\n            <linearGradient id=\\\"gmx-gradient-watched\\\" x1=\\\"0%\\\" y1=\\\"0%\\\" x2=\\\"100%\\\" y2=\\\"100%\\\">\\n              <stop offset=\\\"0%\\\" style=\\\"stop-color:#4f46e5;stop-opacity:1\\\" />\\n              <stop offset=\\\"100%\\\" style=\\\"stop-color:#06b6d4;stop-opacity:1\\\" />\\n            </linearGradient>\\n          </defs>\\n          <path fill=\\\"url(#gmx-gradient-watched)\\\" transform=\\\"translate(-525.667 -696) scale(1)\\\" d=\\\"m555.182 717.462-14.735-21.462-14.78 21.462h20.592l-5.812-8.191-2.883 4.256h-3.064l5.949-8.557 8.6 12.493z\\\"/>\\n        </svg>\\n      \";\n        case \"dydx\":\n            return \"<span style=\\\"font-size:0.75rem;color:#888;\\\">DYDX</span>\";\n        case \"hyperliquid\":\n            return \"<span style=\\\"font-size:0.75rem;color:#888;\\\">HL</span>\";\n        default:\n            return \"<span style=\\\"font-size:0.75rem;color:#888;\\\">\".concat(platform.toUpperCase(), \"</span>\");\n    }\n}\nfunction generateIconColor(address) {\n    var hash = address.slice(2, 8);\n    var r = parseInt(hash.slice(0, 2), 16);\n    var g = parseInt(hash.slice(2, 4), 16);\n    var b = parseInt(hash.slice(4, 6), 16);\n    return \"rgb(\".concat(r, \", \").concat(g, \", \").concat(b, \")\");\n}\nvar utils = {\n    formatNumber: formatNumber,\n    formatCurrency: formatCurrency,\n    formatPercentage: formatPercentage,\n    truncateAddress: truncateAddress,\n    isValidAddress: isValidAddress,\n    formatTimestamp: formatTimestamp,\n    timeAgo: timeAgo,\n    createElement: createElement,\n    showToast: showToast,\n    getPlatformIcon: getPlatformIcon,\n    generateIconColor: generateIconColor,\n};\nexport default utils;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".app.bundle.js\";\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"hono:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.p = \"/js/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkhono\"] = self[\"webpackChunkhono\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n// Import only what you need from each module\nimport { autoReconnectWallet, connectWallet, disconnectWallet, isWalletConnected, updateWalletUI, } from \"./metamask\";\nimport { router } from \"./router\";\nimport { updateTradesUI } from \"./trades\";\nimport { showToast } from \"./utils\";\nconsole.log(\"DEXMT JS file loaded\");\n// Main application initialization\ndocument.addEventListener(\"DOMContentLoaded\", function () { return __awaiter(void 0, void 0, void 0, function () {\n    var error_1, topTradersBtn, myWatchListBtn, connectButton;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                console.log(\"DOM loaded, setting up DEXMT...\");\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 5, , 6]);\n                // Auto-reconnect wallet if previously connected\n                return [4 /*yield*/, autoReconnectWallet()];\n            case 2:\n                // Auto-reconnect wallet if previously connected\n                _a.sent();\n                // sync the Connect/Disconnect button to real wallet state\n                return [4 /*yield*/, updateWalletUI()];\n            case 3:\n                // sync the Connect/Disconnect button to real wallet state\n                _a.sent();\n                // Initialize router and load the appropriate view based on URL\n                return [4 /*yield*/, router.init()];\n            case 4:\n                // Initialize router and load the appropriate view based on URL\n                _a.sent();\n                return [3 /*break*/, 6];\n            case 5:\n                error_1 = _a.sent();\n                console.error(\"Error during initialization:\", error_1);\n                showToast(\"Failed to initialize application\", \"error\");\n                return [3 /*break*/, 6];\n            case 6:\n                topTradersBtn = document.getElementById(\"topTradersBtn\");\n                myWatchListBtn = document.getElementById(\"myWatchListBtn\");\n                if (topTradersBtn) {\n                    topTradersBtn.addEventListener(\"click\", function () {\n                        router.navigateTo(\"top-traders\");\n                    });\n                }\n                if (myWatchListBtn) {\n                    myWatchListBtn.addEventListener(\"click\", function () {\n                        router.navigateTo(\"watch-list\");\n                    });\n                }\n                connectButton = document.getElementById(\"connectButton\");\n                if (connectButton) {\n                    connectButton.addEventListener(\"click\", function () { return __awaiter(void 0, void 0, void 0, function () {\n                        var currentlyConnected;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0: return [4 /*yield*/, isWalletConnected()];\n                                case 1:\n                                    currentlyConnected = _a.sent();\n                                    if (!currentlyConnected) return [3 /*break*/, 3];\n                                    return [4 /*yield*/, disconnectWallet()];\n                                case 2:\n                                    _a.sent();\n                                    return [3 /*break*/, 5];\n                                case 3: return [4 /*yield*/, connectWallet()];\n                                case 4:\n                                    _a.sent();\n                                    _a.label = 5;\n                                case 5: return [2 /*return*/];\n                            }\n                        });\n                    }); });\n                }\n                updateTradesUI();\n                console.log(\"DEXMT setup complete\");\n                return [2 /*return*/];\n        }\n    });\n}); });\n// Global error handler\nwindow.addEventListener(\"error\", function (event) {\n    console.error(\"Global error:\", event.error);\n    showToast(\"An error occurred. Please refresh the page.\", \"error\");\n});\n// Export for debugging/compatibility\nwindow.DEXMT = {\n    version: \"1.0.0\",\n    initialized: true,\n    router: router,\n};\n"],"names":[],"sourceRoot":""}